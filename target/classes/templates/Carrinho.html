<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8">
	<title>Carrinho</title>
	 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
</head>
<body>
<nav class="navbar navbar-default">
	<div class="container-fluid">
		 <div class="navbar-header">
      		<a class="navbar-brand" href="/">NEWS TECHNOLOGY</a>
    	</div>

		<ul class="nav navbar-nav nav nav-pills collapse navbar-collapse">
			<li><a href="/">INICIO</a></li>
			<li><a href="/produto/listarProdutos">PRODUTOS</a></li>
			<li sec:authorize="hasRole('ADMIN')"><a href="/produto/cadastro">CADASTRAR PRODUTOS</a></li>
			<li sec:authorize="hasRole('USER')"><a href="/carrinho/historicoCompras">HISTÓRICO DE COMPRAS</a></li>
		</ul>

		<ul class="nav navbar-nav navbar-right">
      		<li><a href="#"><span class="glyphicon glyphicon-shopping-cart"></span> Carrinho </a></li>
      		<li><a href="/cliente/logar"><span class="glyphicon glyphicon-user"></span> Login</a></li>
      		<li><a href="/logout"><span class="glyphicon glyphicon-log-out"></span> Logout </a></li>
    	</ul>
	</div>
</nav>

<div class="container">
	<div class="row">
        <div class="col-md-10">
	        <h4>Seu Carrinho</h4>
	        <div class="table-responsive">      
		        <table id="mytable" class="table table-bordred table-striped">           
			       <thead>
				       <th>Produto</th>
				       <th>Preço</th>
				       <th>Quantidade</th>
				       <th>Remover</th>
			       </thead>
				    <tbody th:each="produto : ${listProdutos}">
					    <tr th:if="${produto.contains_lista} == true">
						    <td th:text="${produto.nome}"></td>
						    <td th:text="${produto.preco}"></td>
						    <td th:text="${produto.quantidade}"></td>
						    <td><p data-placement="top" data-toggle="tooltip" title="Remover"><a th:href="@{/carrinho/removerProduto/{id}(id = ${produto.id})}"><span class="glyphicon glyphicon-trash"></span></a></p></td>
						</tr> 
				    </tbody>      
				</table> 
	     	</div>
        </div>
        <div class="col-md-2">
        	<h4>Resumo da Compra</h4>
        	<div class="table-responsive"> 
	        	<table id="mytable" class="table table-bordred table-striped">
	        		<tr>
	        			<td>Total:</td>
	        			<td th:text="${valorTotal}"></td>
	        		</tr>
	        		<tr>
	        			<td sec:authorize="hasRole('USER')"><a th:href="@{/carrinho/comprar}"><button class="btn btn-success">Comprar</button></a></td>
	        		</tr>
	        	</table>
        	</div>
        </div>
	</div>
	
</div>

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

<footer class="container-fluid bg-4 text-center margin">
	<div class="container">
		<p>Design do site / logotipo © 2018 for Natanael</p>
	</div>
</footer>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</body>
</html>